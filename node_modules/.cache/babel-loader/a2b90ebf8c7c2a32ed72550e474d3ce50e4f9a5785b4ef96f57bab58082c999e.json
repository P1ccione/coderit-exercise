{"ast":null,"code":"import Header from \"./components/Header\";\nimport AddTeacherForm from \"./components/AddTeacherForm\";\nimport TeachersContainer from \"./components/TeachersContainer\";\nimport EditTeacherForm from \"./components/EditTeacherForm\";\nexport default {\n  name: 'App',\n  components: {\n    Header,\n    AddTeacherForm,\n    TeachersContainer,\n    EditTeacherForm\n  },\n  data() {\n    return {\n      teachers: [],\n      showCreateTeacher: false,\n      showEditTeacherForm: false,\n      showTeachersContainer: true,\n      editingTeacher: null\n    };\n  },\n  async created() {\n    this.teachers = await this.fetchTeachers();\n  },\n  methods: {\n    // fetch dei dati nel file db.json dell'array teachers\n    async fetchTeachers() {\n      const res = await fetch(\"http://localhost:5000/teachers\");\n      const data = await res.json();\n      return data;\n    },\n    async fetchTeacher(id) {\n      const res = await fetch(`http://localhost:5000/teachers/${id}`);\n      const data = await res.json();\n      return data;\n    },\n    async deleteTeacher(id) {\n      // console.log('task', id);\n      if (confirm('Are you sure?')) {\n        const res = await fetch(`http://localhost:5000/teachers/${id}`, {\n          method: \"DELETE\"\n        });\n        res.status === 200 ? this.teachers = this.teachers.filter(teacher => teacher.id !== id) : alert(\"Error deleting teacher\");\n      }\n    },\n    async EditTeacherForm(id, newTeacher) {\n      const teacherToEdit = await this.fetchTeacher(id);\n      const upTeacher = {\n        id: teacherToEdit.id,\n        ...newTeacher\n      };\n      const res = await fetch(`http://localhost:5000/teachers/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(upTeacher)\n      });\n      const data = await res.json();\n\n      // Aggiorna la lista degli insegnanti con il nuovo dato ricevuto dal server\n      this.teachers = this.teachers.map(teacher => teacher.id === id ? {\n        ...teacher,\n        ...data\n      } : teacher);\n      this.showEditTeacherForm = !this.showEditTeacherForm;\n    },\n    // toggle del form create teacher\n    toggleCreateTeacher() {\n      this.showCreateTeacher = !this.showCreateTeacher;\n    },\n    togglEEditTeacherForm(teacher) {\n      this.editingTeacher = teacher;\n      this.showEditTeacherForm = !this.showEditTeacherForm;\n    },\n    toggleTeachersContainer() {},\n    toggle(element) {\n      switch (element) {\n        case \"teachers\":\n          if (!this.showTeachersContainer) {\n            this.showTeachersContainer = !this.showTeachersContainer;\n          }\n          ;\n      }\n    },\n    // creazione e inserimento nel file db.json del nuovo teacher\n    async createTeacher(teacher) {\n      const res = await fetch(\"http://localhost:5000/teachers\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(teacher)\n      });\n      const data = await res.json();\n      this.teachers = [...this.teachers, data];\n      this.showForm = !this.showForm;\n      this.showCreateTeacher = !this.showCreateTeacher;\n    }\n  }\n};","map":{"version":3,"names":["Header","AddTeacherForm","TeachersContainer","EditTeacherForm","name","components","data","teachers","showCreateTeacher","showEditTeacherForm","showTeachersContainer","editingTeacher","created","fetchTeachers","methods","res","fetch","json","fetchTeacher","id","deleteTeacher","confirm","method","status","filter","teacher","alert","newTeacher","teacherToEdit","upTeacher","headers","body","JSON","stringify","map","toggleCreateTeacher","togglEEditTeacherForm","toggleTeachersContainer","toggle","element","createTeacher","showForm"],"sources":["C:\\Users\\SimonePiscozzo\\vue-exercise\\src\\App.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <Header @toggle=\"toggle\" />\n    <div class=\"content-container\">\n      <TeachersContainer v-show=\"showTeachersContainer\" @toggle-create-teacher=\"toggleCreateTeacher\" @edit-teacher=\"EditTeacherForm\" @delete-teacher=\"deleteTeacher\" :teachers=\"teachers\" @toggle-edit-teacher=\"togglEEditTeacherForm\" />\n    </div>\n  </div>\n  <div class=\"form-container\" v-show=\"showCreateTeacher\">\n      <AddTeacherForm @create-teacher=\"createTeacher\" @toggle-create-teacher=\"toggleCreateTeacher\"/>\n   </div>\n  <div class=\"form-container\" v-show=\"showEditTeacherForm\">\n      <EditTeacherForm @edit-teacher=\"EditTeacherForm\" @toggle-edit-teacher=\"togglEEditTeacherForm\" :teacher=\"editingTeacher\" />\n   </div>\n</template>\n\n<script>\n  import Header from \"./components/Header\"\n  import AddTeacherForm from \"./components/AddTeacherForm\"\n  import TeachersContainer from \"./components/TeachersContainer\"\n  import EditTeacherForm from \"./components/EditTeacherForm\"\n\n  export default {\n    name: 'App',\n    components: {\n      Header,\n      AddTeacherForm,\n      TeachersContainer,\n      EditTeacherForm,\n    },\n    data() {\n      return {\n        teachers: [],\n        showCreateTeacher: false,\n        showEditTeacherForm: false,\n        showTeachersContainer: true,\n        editingTeacher: null\n      }\n    },\n    async created() {\n      this.teachers = await this.fetchTeachers();\n    },\n    methods: {\n      // fetch dei dati nel file db.json dell'array teachers\n      async fetchTeachers() {\n        const res = await fetch(\"http://localhost:5000/teachers\")\n\n        const data = await res.json()\n\n        return data;\n      },\n      async fetchTeacher(id) {\n        const res = await fetch(`http://localhost:5000/teachers/${id}`)\n\n        const data = await res.json()\n\n        return data\n      },\n      async deleteTeacher(id) {\n        // console.log('task', id);\n        if(confirm('Are you sure?')) {\n                \n          const res = await fetch(`http://localhost:5000/teachers/${id}`, {\n            method: \"DELETE\",\n          })\n\n          res.status === 200 ? (this.teachers = this.teachers.filter((teacher) => teacher.id !== id)) : alert(\"Error deleting teacher\")\n        }\n      },\n      async EditTeacherForm(id, newTeacher) {\n        const teacherToEdit = await this.fetchTeacher(id);\n\n        const upTeacher = {\n            id: teacherToEdit.id,\n            ...newTeacher,\n        };\n\n        const res = await fetch(`http://localhost:5000/teachers/${id}`, {\n            method: \"PUT\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(upTeacher),\n        });\n\n        const data = await res.json();\n\n        // Aggiorna la lista degli insegnanti con il nuovo dato ricevuto dal server\n        this.teachers = this.teachers.map((teacher) =>\n            teacher.id === id ? { ...teacher, ...data } : teacher\n        );\n        \n        this.showEditTeacherForm = !this.showEditTeacherForm\n      },\n      \n      // toggle del form create teacher\n      toggleCreateTeacher() {\n        this.showCreateTeacher = !this.showCreateTeacher\n      },\n\n      togglEEditTeacherForm(teacher) {\n        this.editingTeacher = teacher;\n        this.showEditTeacherForm = !this.showEditTeacherForm\n      },\n\n      toggleTeachersContainer() {\n        \n      },\n\n      toggle(element) {\n        switch (element) {\n          case \"teachers\":\n            if(!this.showTeachersContainer){\n              this.showTeachersContainer = !this.showTeachersContainer\n            };\n        }\n      },\n      \n      // creazione e inserimento nel file db.json del nuovo teacher\n      async createTeacher(teacher) {\n        const res = await fetch(\"http://localhost:5000/teachers\", {\n            method: \"POST\",\n            headers: {\"Content-Type\": \"application/json\"},\n            body: JSON.stringify(teacher),\n        })\n\n        const data = await res.json()\n\n        this.teachers = [...this.teachers, data]\n        this.showForm = !this.showForm\n        this.showCreateTeacher = !this.showCreateTeacher\n      },\n    }\n  }\n</script>\n<style>\n  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400&display=swap');\n    \n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    /* outline: 1px orange solid */\n  }\n\n  body {\n    font-family: 'Poppins', sans-serif;\n  }\n\n  .container {\n    width: 100%;\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .content-container {\n    width: 100%;\n    height: auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .form-container {\n    position: absolute;\n    width: 100%;\n    height: 100vh;\n    top:0;\n    display: flex;\n    flex-direction: column;\n    row-gap: 50px;\n    justify-content: center;\n    align-items: center;\n    background-color: rgba(0,0,0,0.3);\n    backdrop-filter: blur(2px);\n  }\n\n</style>\n"],"mappings":"AAgBE,OAAOA,MAAK,MAAO,qBAAoB;AACvC,OAAOC,cAAa,MAAO,6BAA4B;AACvD,OAAOC,iBAAgB,MAAO,gCAA+B;AAC7D,OAAOC,eAAc,MAAO,8BAA6B;AAEzD,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,UAAU,EAAE;IACVL,MAAM;IACNC,cAAc;IACdC,iBAAiB;IACjBC;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,iBAAiB,EAAE,KAAK;MACxBC,mBAAmB,EAAE,KAAK;MAC1BC,qBAAqB,EAAE,IAAI;MAC3BC,cAAc,EAAE;IAClB;EACF,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,IAAI,CAACL,QAAO,GAAI,MAAM,IAAI,CAACM,aAAa,CAAC,CAAC;EAC5C,CAAC;EACDC,OAAO,EAAE;IACP;IACA,MAAMD,aAAaA,CAAA,EAAG;MACpB,MAAME,GAAE,GAAI,MAAMC,KAAK,CAAC,gCAAgC;MAExD,MAAMV,IAAG,GAAI,MAAMS,GAAG,CAACE,IAAI,CAAC;MAE5B,OAAOX,IAAI;IACb,CAAC;IACD,MAAMY,YAAYA,CAACC,EAAE,EAAE;MACrB,MAAMJ,GAAE,GAAI,MAAMC,KAAK,CAAE,kCAAiCG,EAAG,EAAC;MAE9D,MAAMb,IAAG,GAAI,MAAMS,GAAG,CAACE,IAAI,CAAC;MAE5B,OAAOX,IAAG;IACZ,CAAC;IACD,MAAMc,aAAaA,CAACD,EAAE,EAAE;MACtB;MACA,IAAGE,OAAO,CAAC,eAAe,CAAC,EAAE;QAE3B,MAAMN,GAAE,GAAI,MAAMC,KAAK,CAAE,kCAAiCG,EAAG,EAAC,EAAE;UAC9DG,MAAM,EAAE;QACV,CAAC;QAEDP,GAAG,CAACQ,MAAK,KAAM,GAAE,GAAK,IAAI,CAAChB,QAAO,GAAI,IAAI,CAACA,QAAQ,CAACiB,MAAM,CAAEC,OAAO,IAAKA,OAAO,CAACN,EAAC,KAAMA,EAAE,CAAC,GAAIO,KAAK,CAAC,wBAAwB;MAC9H;IACF,CAAC;IACD,MAAMvB,eAAeA,CAACgB,EAAE,EAAEQ,UAAU,EAAE;MACpC,MAAMC,aAAY,GAAI,MAAM,IAAI,CAACV,YAAY,CAACC,EAAE,CAAC;MAEjD,MAAMU,SAAQ,GAAI;QACdV,EAAE,EAAES,aAAa,CAACT,EAAE;QACpB,GAAGQ;MACP,CAAC;MAED,MAAMZ,GAAE,GAAI,MAAMC,KAAK,CAAE,kCAAiCG,EAAG,EAAC,EAAE;QAC5DG,MAAM,EAAE,KAAK;QACbQ,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,SAAS;MAClC,CAAC,CAAC;MAEF,MAAMvB,IAAG,GAAI,MAAMS,GAAG,CAACE,IAAI,CAAC,CAAC;;MAE7B;MACA,IAAI,CAACV,QAAO,GAAI,IAAI,CAACA,QAAQ,CAAC2B,GAAG,CAAET,OAAO,IACtCA,OAAO,CAACN,EAAC,KAAMA,EAAC,GAAI;QAAE,GAAGM,OAAO;QAAE,GAAGnB;MAAK,IAAImB,OAClD,CAAC;MAED,IAAI,CAAChB,mBAAkB,GAAI,CAAC,IAAI,CAACA,mBAAkB;IACrD,CAAC;IAED;IACA0B,mBAAmBA,CAAA,EAAG;MACpB,IAAI,CAAC3B,iBAAgB,GAAI,CAAC,IAAI,CAACA,iBAAgB;IACjD,CAAC;IAED4B,qBAAqBA,CAACX,OAAO,EAAE;MAC7B,IAAI,CAACd,cAAa,GAAIc,OAAO;MAC7B,IAAI,CAAChB,mBAAkB,GAAI,CAAC,IAAI,CAACA,mBAAkB;IACrD,CAAC;IAED4B,uBAAuBA,CAAA,EAAG,CAE1B,CAAC;IAEDC,MAAMA,CAACC,OAAO,EAAE;MACd,QAAQA,OAAO;QACb,KAAK,UAAU;UACb,IAAG,CAAC,IAAI,CAAC7B,qBAAqB,EAAC;YAC7B,IAAI,CAACA,qBAAoB,GAAI,CAAC,IAAI,CAACA,qBAAoB;UACzD;UAAC;MACL;IACF,CAAC;IAED;IACA,MAAM8B,aAAaA,CAACf,OAAO,EAAE;MAC3B,MAAMV,GAAE,GAAI,MAAMC,KAAK,CAAC,gCAAgC,EAAE;QACtDM,MAAM,EAAE,MAAM;QACdQ,OAAO,EAAE;UAAC,cAAc,EAAE;QAAkB,CAAC;QAC7CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,OAAO;MAChC,CAAC;MAED,MAAMnB,IAAG,GAAI,MAAMS,GAAG,CAACE,IAAI,CAAC;MAE5B,IAAI,CAACV,QAAO,GAAI,CAAC,GAAG,IAAI,CAACA,QAAQ,EAAED,IAAI;MACvC,IAAI,CAACmC,QAAO,GAAI,CAAC,IAAI,CAACA,QAAO;MAC7B,IAAI,CAACjC,iBAAgB,GAAI,CAAC,IAAI,CAACA,iBAAgB;IACjD;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}